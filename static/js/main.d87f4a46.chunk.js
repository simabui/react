(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,t,n){e.exports={enter:"errorSlide_enter__8x4el",enterActive:"errorSlide_enterActive__2iZZm",exit:"errorSlide_exit__vLzW-",exitActive:"errorSlide_exitActive__115-Y"}},144:function(e,t,n){e.exports={enter:"pop_enter__2Qrqf",enterActive:"pop_enterActive__3KXIo",exit:"pop_exit__ZqYE0",exitActive:"pop_exitActive__38YjQ"}},151:function(e,t,n){e.exports=n(417)},38:function(e,t,n){e.exports={enter:"slide_enter__387VQ",enterActive:"slide_enterActive__1Q7qu",exit:"slide_exit__1bLfu",exitActive:"slide_exitActive__3M4dL"}},416:function(e,t,n){},417:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(21),o=n.n(c),u=n(13),i=n(147),l=n(419),s=n(15),p=n.n(s),b=n(63),d=n(28),f=n.n(d),m={getStart:"phonebook/CONTACTS_GET_START",getSuccess:"phonebook/CONTACTS_GET_SUCCESS",getFail:"phonebook/CONTACTS_GET_FAIL",updateStart:"phonebook/CONTACTS_UPDATE_START",updateSuccess:"phonebook/CONTACTS_UPDATE_SUCCESS",updateFail:"phonebook/CONTACTS_UPDATE_FAIL",filter:"phonebook/FILTER_CONTACTS",deleteStart:"phonebook/DELETE_USER_START",deleteSuccess:"phonebook/DELETE_USER_SUCCESS",deleteFail:"phonebook/DELETE_USER_FAIL"};f.a.defaults.baseURL="http://localhost:8086";var v=function(e){return function(t){t({type:m.deleteStart}),f.a.delete("/contacts/".concat(e)).then(function(){return t(function(e){return{type:m.deleteSuccess,payload:{id:e}}}(e))}).catch(function(e){return t((n=e,{type:m.deleteFail,payload:{error:n}}));var n})}},x=n(136),O=function(e){return e.phonebook.collection},h=function(e){return e.phonebook.filter},j=Object(x.a)([O,h],function(e,t){return e.filter(function(e){return e.name.includes(t)})}),g=n(37),_=n(137),y=n(138),S=n(139),E=n(148),C=n(140),A=n(149),T=n(5),k=n(421),w=n(3),F=n(142),N=function(e){var t=e.label;return a.a.createElement("span",{style:{color:"#ff0000",display:"inline-block"}},t)};N.defaultProps={label:""};var D=N;function L(){var e=Object(T.a)(["\n  text-align: center;\n"]);return L=function(){return e},e}function R(){var e=Object(T.a)(["\n  width: 300px;\n  position: absolute;\n  top: 10px;\n  right: 15px;\n  padding: 15px 20px;\n  background-color: red;\n  color: #fff;\n  border-radius: 5px;\n  font-weight: 700;\n"]);return R=function(){return e},e}var U=Object(w.a)(R()),I=Object(w.a)(L()),q=function(){return Object(w.b)("div",{css:U},Object(w.b)("p",{css:I},"Name is already in the list!"))},P=n(143),z=n.n(P);function Q(){var e=Object(T.a)(["\n  width: 100%;\n  padding: 10px 0 10px 5px;\n  border-radius: 5px;\n  border: 1px solid #dedede;\n  margin-top: 5px;\n  font-size: 16px;\n"]);return Q=function(){return e},e}function G(){var e=Object(T.a)(["\n  margin-bottom: 10px;\n  padding: 5px;\n"]);return G=function(){return e},e}var Y=Object(w.a)(G()),Z=Object(w.a)(Q()),J=function(e){var t=e.id,n=e.text,r=e.type,a=e.value,c=e.onChange,o=e.name;return Object(w.b)("label",{htmlFor:t,css:Y},n,Object(w.b)("input",{type:r,value:a,name:o,onChange:c,id:t,css:Z}))};function M(){var e=Object(T.a)(["\n  width: 150px;\n  font-size: 16px;\n  cursor: pointer;\n  background-color: #fff;\n  border-radius: 5px;\n  padding: 3px;\n  width: 100%;\n  background-color: #3944a8;\n  color: #fff;\n  padding: 10px 0;\n  font-weight: 700;\n"]);return M=function(){return e},e}function W(){var e=Object(T.a)(["\n  padding: 10px;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0px 3px 8px -2px rgba(0, 0, 0, 0.75);\n  border-radius: 5px;\n"]);return W=function(){return e},e}var B=Object(w.a)(W()),K=Object(w.a)(M()),V={name:"required|string",number:"required|string"},X={"name.required":"Please enter a unique name for your account","number.required":"Enter a phone number."},H=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(E.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(a)))).state={name:"",number:"",errors:null,isDuplicate:!1},n.handleSubmit=function(e){e.preventDefault();var t=n.state,r=t.name,a=t.number,c=n.props.putContact;if(n.handleDupName(r))return n.setState({isDuplicate:!0}),void setTimeout(n.exitAnimation,3e3);var o={name:r,number:a};Object(F.validateAll)(o,V,X).then(function(e){c(Object(_.a)({},e)),n.reset()}).catch(function(e){var t={};e.forEach(function(e){t[e.field]=e.message}),n.setState({errors:t})})},n.exitAnimation=function(){n.setState({isDuplicate:!1})},n.handleInput=function(e){var t=e.target,r=t.value,a=t.name;n.setState(Object(g.a)({},a,r))},n.handleDupName=function(e){return n.props.contacts.some(function(t){return t.name===e})},n}return Object(A.a)(t,e),Object(S.a)(t,[{key:"reset",value:function(){this.setState({name:"",number:"",errors:null,isDuplicate:!1})}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.number,r=e.errors,a=e.isDuplicate,c=Object(k.a)(),o=Object(k.a)();return Object(w.b)("form",{onSubmit:this.handleSubmit,css:B},Object(w.b)(J,{id:c,text:"Name",type:"text",name:"name",value:t,onChange:this.handleInput}),r&&Object(w.b)(D,{label:r.name}),Object(w.b)(J,{id:o,text:"Number",type:"number",name:"number",value:n,onChange:this.handleInput}),r&&Object(w.b)(D,{label:r.number}),Object(w.b)("button",{type:"submit",css:K},"Add contact"),Object(w.b)(l.a,{in:a,timeout:300,classNames:z.a,unmountOnExit:!0},Object(w.b)(q,null)))}}]),t}(r.Component),$=Object(u.b)(function(e){return{contacts:O(e)}},function(e){return{putContact:function(t){return e((n=t,function(){var e=Object(b.a)(p.a.mark(function e(t){var r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:m.updateStart}),e.prev=1,e.next=4,f.a.post("/contacts",n);case 4:r=e.sent,t((c=r.data,{type:m.updateSuccess,payload:{user:c}})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t((a=e.t0,{type:m.updateFail,payload:{error:a}}));case 11:case"end":return e.stop()}var a,c},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()));var n}}})(H),ee=n(420);function te(){var e=Object(T.a)(["\n  margin-top: 10px;\n  border: 1px solid #dedede;\n  border-radius: 5px;\n  box-shadow: 0px 3px 8px -2px rgba(0, 0, 0, 0.75);\n"]);return te=function(){return e},e}function ne(){var e=Object(T.a)(["\n  padding: 4px;\n  max-width: 40px;\n  font-size: 16px;\n  cursor: pointer;\n  background-color: #fff;\n  border-radius: 5px;\n  flex-grow: 1;\n  background-color: #ff0000;\n  color: #fff;\n  font-weight: 700;\n"]);return ne=function(){return e},e}function re(){var e=Object(T.a)(["\n  flex-grow: 1;\n"]);return re=function(){return e},e}function ae(){var e=Object(T.a)(["\n  flex-grow: 2;\n"]);return ae=function(){return e},e}function ce(){var e=Object(T.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 15px 8px;\n"]);return ce=function(){return e},e}var oe=Object(w.a)(ce()),ue=Object(w.a)(ae()),ie=Object(w.a)(re()),le=Object(w.a)(ne()),se=Object(w.a)(te()),pe=function(e){var t=e.contact,n=e.deleContact,a=Object(r.useCallback)(function(){return n(t.id)},[t.id]);return Object(w.b)("li",{css:se},Object(w.b)("div",{css:oe},Object(w.b)("p",{css:ue},t.name),Object(w.b)("p",{css:ie},t.number),Object(w.b)("button",{type:"button",onClick:a,css:le},"\u2715")))},be=Object(u.b)(null,function(e){return{deleContact:function(t){return e(v(t))}}})(pe),de=n(38),fe=n.n(de);function me(){var e=Object(T.a)(["\n  list-style-type: none;\n  padding: 0;\n"]);return me=function(){return e},e}var ve=Object(w.a)(me()),xe=function(e){var t=e.contacts,n=e.fetchContacts;return Object(r.useEffect)(function(){n()},[]),Object(w.b)(ee.a,{component:"ul",css:ve},t.map(function(e){return Object(w.b)(l.a,{key:e.id,timeout:500,classNames:fe.a},Object(w.b)(be,{contact:e}))}))},Oe=Object(u.b)(function(e){return{contacts:j(e)}},function(e){return{fetchContacts:function(){return e(function(){var e=Object(b.a)(p.a.mark(function e(t){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:m.getStart}),e.prev=1,e.next=4,f.a.get("/contacts");case 4:n=e.sent,t((a=n.data,{type:m.getSuccess,payload:{users:a}})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t((r=e.t0,{type:m.getFail,payload:{error:r}}));case 11:case"end":return e.stop()}var r,a},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}())},deleContact:function(t){return e(v(t))}}})(xe),he=n(144),je=n.n(he),ge=function(e){var t=e.inputFilter,n=e.filter,r=e.contacts;return a.a.createElement("div",null,a.a.createElement(ee.a,null,r&&r.length>1&&a.a.createElement(l.a,{timeout:300,classNames:je.a},a.a.createElement("div",null,a.a.createElement(J,{type:"text",onChange:function(e){var n=e.target;t(n.value)},value:n,id:"filter",name:"filter",text:"Find contacts by name"})))))},_e=Object(u.b)(function(e){return{contacts:O(e),filter:h(e)}},function(e){return{inputFilter:function(t){return e((n=t,{type:m.filter,payload:{text:n}}));var n}}})(ge),ye=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)(function(){c(!n)},[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(l.a,{in:n,timeout:500,classNames:fe.a},a.a.createElement("h1",null,"Phonebook")),a.a.createElement($,null),a.a.createElement("h2",null,"Contacts"),a.a.createElement(_e,null),a.a.createElement(Oe,null))},Se=(n(416),n(14)),Ee=n(145),Ce=n(146),Ae=n(39);var Te=Object(Se.combineReducers)({collection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.getSuccess:return Object(Ae.a)(t.payload.users);case m.updateSuccess:return[].concat(Object(Ae.a)(e),[t.payload.user]);case m.deleteSuccess:return Object(Ae.a)(e.filter(function(e){return e.id!==t.payload.id}));default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.filter:return t.payload.text;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.getFail:case m.updateFail:case m.deleteFail:return t.payload.error;default:return e}}}),ke=Object(Se.combineReducers)({phonebook:Te}),we=[Ce.a],Fe=Se.applyMiddleware.apply(void 0,we);var Ne,De=(Ne=ke,Object(Se.createStore)(Ne,Object(Ee.composeWithDevTools)(Fe)));o.a.render(a.a.createElement(u.a,{store:De},a.a.createElement(ye,null)),document.getElementById("root"))}},[[151,1,2]]]);
//# sourceMappingURL=main.d87f4a46.chunk.js.map